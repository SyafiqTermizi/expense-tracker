(()=>{"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t){return 0===Object.keys(t).length}function i(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function l(t,e,n){t.$$.on_destroy.push(i(e,n))}new Set;const u="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class a{constructor(t){this.options=t,this._listeners="WeakMap"in u?new WeakMap:void 0}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return null!==(t=this._observer)&&void 0!==t?t:this._observer=new ResizeObserver((t=>{var e;for(const n of t)a.entries.set(n.target,n),null===(e=this._listeners.get(n.target))||void 0===e||e(n)}))}}a.entries="WeakMap"in u?new WeakMap:void 0;let d,f=!1;function h(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function g(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function x(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function w(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){t.value=null==e?"":e}function k(t){d=t}new Map;const E=[],C=[];let M=[];const S=[],A=Promise.resolve();let O=!1;function B(t){M.push(t)}const D=new Set;let I=0;function L(){if(0!==I)return;const t=d;do{try{for(;I<E.length;){const t=E[I];I++,k(t),T(t.$$)}}catch(t){throw E.length=0,I=0,t}for(k(null),E.length=0,I=0;C.length;)C.pop()();for(let t=0;t<M.length;t+=1){const e=M[t];D.has(e)||(D.add(e),e())}M.length=0}while(E.length);for(;S.length;)S.pop()();O=!1,D.clear(),k(t)}function T(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const N=new Set;let F,z;function j(t,e){t&&t.i&&(N.delete(t),t.i(e))}function J(t,e,n,o){if(t&&t.o){if(N.has(t))return;N.add(t),F.c.push((()=>{N.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function W(t){t&&t.c()}function q(t,n,s,c){const{fragment:i,after_update:l}=t.$$;i&&i.m(n,s),c||B((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(B)}function H(t,e){const n=t.$$;null!==n.fragment&&(function(t){const e=[],n=[];M.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),M=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function R(e,r,s,c,i,l,u,a=[-1]){const h=d;k(e);const p=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:n(),dirty:a,skip_bound:!1,root:r.target||h.$$.root};u&&u(p.root);let $=!1;if(p.ctx=s?s(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),$&&function(t,e){-1===t.$$.dirty[0]&&(E.push(t),O||(O=!0,A.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),$=!0,o(p.before_update),p.fragment=!!c&&c(p.ctx),r.target){if(r.hydrate){f=!0;const t=(g=r.target,Array.from(g.childNodes));p.fragment&&p.fragment.l(t),t.forEach(m)}else p.fragment&&p.fragment.c();r.intro&&j(e.$$.fragment),q(e,r.target,r.anchor,r.customElement),f=!1,L()}var g;k(h)}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),"function"==typeof HTMLElement&&(z=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class P{$destroy(){H(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function G(e,n=t){let o;const r=new Set;function c(t){if(s(e,t)&&(e=t,o)){const t=!Y.length;for(const t of r)t[1](),Y.push(t,e);if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(s,i=t){const l=[s,i];return r.add(l),1===r.size&&(o=n(c)||t),s(e),()=>{r.delete(l),0===r.size&&o&&(o(),o=null)}}}}const K=G([]),Q=G(!0),U=G(""),V=function(e,n,s){const c=!Array.isArray(e),l=c?[e]:e,u=n.length<2;return{subscribe:G(void 0,(e=>{let s=!1;const a=[];let d=0,f=t;const h=()=>{if(d)return;f();const o=n(c?a[0]:a);u?e(o):f=r(o)?o:t},p=l.map(((t,e)=>i(t,(t=>{a[e]=t,d&=~(1<<e),s&&h()}),(()=>{d|=1<<e}))));return s=!0,h(),function(){o(p),f(),s=!1}})).subscribe}}([Q,U,K],(([t,e,n])=>{let o=[];return o=t?n:n.filter((t=>t.expense)),e&&(o=o.filter((t=>t.description.toLowerCase().includes(e.toLowerCase())))),o}));function X(t){const e=new Date(t).toLocaleDateString().split("/"),n=["January","Feburary","March","April","May","June","July","August","September","October","November","December"][parseInt(e[0])-1];return`${e[1]} ${n} ${e[2]}`}function Z(t,e,n){const o=t.slice();return o[2]=e[n],o}function tt(t){let e,n,o,r,s,c;return{c(){e=g("svg"),n=g("path"),o=g("path"),r=g("path"),s=g("path"),c=g("path"),x(n,"stroke","none"),x(n,"d","M0 0h24v24H0z"),x(n,"fill","none"),x(o,"d","M14 3v4a1 1 0 0 0 1 1h4"),x(r,"d","M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"),x(s,"d","M9 17h6"),x(c,"d","M9 13h6"),x(e,"xmlns","http://www.w3.org/2000/svg"),x(e,"class","text-primary"),x(e,"width","12"),x(e,"height","12"),x(e,"viewBox","0 0 24 24"),x(e,"stroke-width","2"),x(e,"stroke","currentColor"),x(e,"fill","none"),x(e,"stroke-linecap","round"),x(e,"stroke-linejoin","round")},m(t,i){p(t,e,i),h(e,n),h(e,o),h(e,r),h(e,s),h(e,c)},d(t){t&&m(e)}}}function et(t){let e,n,o,r,s,c,i,l,u,a,d,f,g,v,_,k,E=t[2].description+"",C=t[2].amount+"",M=t[2].account+"",S=X(t[2].created_at)+"",A=t[2].expense&&tt();return{c(){e=$("tr"),n=$("td"),o=b(E),r=y(),A&&A.c(),c=y(),i=$("td"),l=b(C),a=y(),d=$("td"),f=b(M),g=y(),v=$("td"),_=b(S),k=y(),x(n,"data-bs-toggle","modal"),x(n,"data-bs-target",s="#expense-modal-"+t[2].uid),x(i,"class",u="DEBIT"===t[2].action?"text-danger":"text-success")},m(t,s){p(t,e,s),h(e,n),h(n,o),h(n,r),A&&A.m(n,null),h(e,c),h(e,i),h(i,l),h(e,a),h(e,d),h(d,f),h(e,g),h(e,v),h(v,_),h(e,k)},p(t,e){2&e&&E!==(E=t[2].description+"")&&w(o,E),t[2].expense?A||(A=tt(),A.c(),A.m(n,null)):A&&(A.d(1),A=null),2&e&&s!==(s="#expense-modal-"+t[2].uid)&&x(n,"data-bs-target",s),2&e&&C!==(C=t[2].amount+"")&&w(l,C),2&e&&u!==(u="DEBIT"===t[2].action?"text-danger":"text-success")&&x(i,"class",u),2&e&&M!==(M=t[2].account+"")&&w(f,M),2&e&&S!==(S=X(t[2].created_at)+"")&&w(_,S)},d(t){t&&m(e),A&&A.d()}}}function nt(e){let n,o,r,s,c,i,l,u,a,d,f,g,v,_,k,E,C=e[1],M=[];for(let t=0;t<C.length;t+=1)M[t]=et(Z(e,C,t));return{c(){n=$("div"),o=$("table"),r=$("thead"),s=$("tr"),c=$("th"),c.textContent="Description",i=y(),l=$("th"),u=b("Amount ("),a=b(e[0]),d=b(")"),f=y(),g=$("th"),g.textContent="Account",v=y(),_=$("th"),_.textContent="Date",k=y(),E=$("tbody");for(let t=0;t<M.length;t+=1)M[t].c();x(c,"scope","col"),x(l,"scope","col"),x(g,"scope","col"),x(_,"scope","col"),x(o,"class","table table-hover"),x(n,"class","card-body")},m(t,e){p(t,n,e),h(n,o),h(o,r),h(r,s),h(s,c),h(s,i),h(s,l),h(l,u),h(l,a),h(l,d),h(s,f),h(s,g),h(s,v),h(s,_),h(o,k),h(o,E);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(E,null)},p(t,[e]){if(1&e&&w(a,t[0]),2&e){let n;for(C=t[1],n=0;n<C.length;n+=1){const o=Z(t,C,n);M[n]?M[n].p(o,e):(M[n]=et(o),M[n].c(),M[n].m(E,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=C.length}},i:t,o:t,d(t){t&&m(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(M,t)}}}function ot(t,e,n){let o;l(t,V,(t=>n(1,o=t)));let{currency:r=""}=e;return t.$$set=t=>{"currency"in t&&n(0,r=t.currency)},[r,o]}const rt=class extends P{constructor(t){super(),R(this,t,ot,nt,s,{currency:0})}};function st(e){let n,r,s,c,i,l,u,a,d,f,g,w,_;return{c(){n=$("div"),r=b("Show "),s=b(e[1]),c=b("'s:\n    "),i=$("button"),l=b("Transactions"),a=y(),d=$("button"),f=b("Expenses"),x(i,"class",u=e[0]?ct:it),x(d,"class",g=e[0]?it:ct),x(n,"class","col-md-8 col-sm-12 mt-2 text-sm-start text-md-end")},m(t,o){p(t,n,o),h(n,r),h(n,s),h(n,c),h(n,i),h(i,l),h(n,a),h(n,d),h(d,f),w||(_=[v(i,"click",e[2]),v(d,"click",e[3])],w=!0)},p(t,[e]){1&e&&u!==(u=t[0]?ct:it)&&x(i,"class",u),1&e&&g!==(g=t[0]?it:ct)&&x(d,"class",g)},i:t,o:t,d(t){t&&m(n),w=!1,o(_)}}}const ct="ms-1 btn btn-primary btn-sm",it="ms-1 btn btn-outline-secondary btn-sm";function lt(t,e,n){let o;l(t,Q,(t=>n(0,o=t)));const r=(new Date).toLocaleString("default",{month:"long"});return[o,r,()=>Q.set(!0),()=>Q.set(!1)]}const ut=class extends P{constructor(t){super(),R(this,t,lt,st,s,{})}};function at(e){let n,o,r,s;return{c(){n=$("div"),o=$("input"),x(o,"class","form-control"),x(o,"placeholder","Search transactions..."),x(o,"type","search"),x(o,"name","search"),x(o,"id","search"),x(n,"class","col-md-4 col-sm-12 mt-2")},m(t,c){p(t,n,c),h(n,o),_(o,e[0]),r||(s=v(o,"input",e[1]),r=!0)},p(t,[e]){1&e&&o.value!==t[0]&&_(o,t[0])},i:t,o:t,d(t){t&&m(n),r=!1,s()}}}function dt(t,e,n){let o;return l(t,U,(t=>n(0,o=t))),[o,function(){o=this.value,U.set(o)}]}const ft=class extends P{constructor(t){super(),R(this,t,dt,at,s,{})}};function ht(t){let e,n;return e=new ut({}),{c(){W(e.$$.fragment)},m(t,o){q(e,t,o),n=!0},i(t){n||(j(e.$$.fragment,t),n=!0)},o(t){J(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function pt(t){let e,n,r,s,c,i,l,u,a;r=new ft({});let d=!t[1]&&ht();return u=new rt({props:{currency:t[0]}}),{c(){e=$("div"),n=$("div"),W(r.$$.fragment),s=y(),d&&d.c(),c=y(),i=$("hr"),l=y(),W(u.$$.fragment),x(n,"class","row pt-2 px-3"),x(e,"class","card")},m(t,o){p(t,e,o),h(e,n),q(r,n,null),h(n,s),d&&d.m(n,null),h(e,c),h(e,i),h(e,l),q(u,e,null),a=!0},p(t,[e]){t[1]?d&&(F={r:0,c:[],p:F},J(d,1,1,(()=>{d=null})),F.r||o(F.c),F=F.p):d?2&e&&j(d,1):(d=ht(),d.c(),j(d,1),d.m(n,null));const r={};1&e&&(r.currency=t[0]),u.$set(r)},i(t){a||(j(r.$$.fragment,t),j(d),j(u.$$.fragment,t),a=!0)},o(t){J(r.$$.fragment,t),J(d),J(u.$$.fragment,t),a=!1},d(t){t&&m(e),H(r),d&&d.d(),H(u)}}}function mt(t,e,n){let{currency:o="MYR"}=e,{hideFilter:r=!1}=e;return t.$$set=t=>{"currency"in t&&n(0,o=t.currency),"hideFilter"in t&&n(1,r=t.hideFilter)},[o,r]}const $t=JSON.parse(document.getElementById("transaction-data").textContent)||[];K.set($t);const gt=document.getElementById("user-currency").textContent,bt=document.getElementById("hide-filter")&&"true"===document.getElementById("hide-filter").textContent;new class extends P{constructor(t){super(),R(this,t,mt,pt,s,{currency:0,hideFilter:1})}}({target:document.getElementById("transactions"),props:{currency:gt,hideFilter:bt}})})();